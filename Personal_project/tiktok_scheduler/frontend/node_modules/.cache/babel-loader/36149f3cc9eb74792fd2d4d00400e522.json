{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Charis\\\\Desktop\\\\projects\\\\My-Project\\\\Personal_project\\\\tiktok_scheduler\\\\frontend\\\\src\\\\components\\\\AccountManager.js\";\nimport React, { useState, useEffect } from 'react';\nimport { Box, Paper, Typography, Button, List, ListItem, ListItemAvatar, ListItemText, Avatar, Divider, IconButton, Dialog, DialogTitle, DialogContent, DialogActions, TextField, CircularProgress, Snackbar, Alert, Chip } from '@mui/material';\nimport { Add as AddIcon, Delete as DeleteIcon, Edit as EditIcon, Person as PersonIcon, Refresh as RefreshIcon, Check as CheckIcon, Close as CloseIcon } from '@mui/icons-material';\nimport { colors } from '../styles/theme';\nimport axios from 'axios';\nconst AccountManager = () => {\n  const [accounts, setAccounts] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [openDialog, setOpenDialog] = useState(false);\n  const [dialogType, setDialogType] = useState('add'); // 'add', 'edit'\n  const [selectedAccount, setSelectedAccount] = useState(null);\n  const [formData, setFormData] = useState({\n    accountName: '',\n    tiktokUsername: ''\n  });\n  const [authUrl, setAuthUrl] = useState('');\n  const [snackbar, setSnackbar] = useState({\n    open: false,\n    message: '',\n    severity: 'success'\n  });\n  useEffect(() => {\n    fetchAccounts();\n  }, []);\n  const fetchAccounts = async () => {\n    try {\n      setLoading(true);\n      const response = await axios.get('/api/dashboard/accounts', {\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\n        }\n      });\n      setAccounts(response.data.accounts);\n      setLoading(false);\n    } catch (error) {\n      console.error('Error fetching accounts:', error);\n      setLoading(false);\n      showSnackbar('Failed to load accounts', 'error');\n    }\n  };\n  const handleOpenAddDialog = async () => {\n    try {\n      // Get TikTok auth URL\n      const response = await axios.get('/api/auth/tiktok-auth-url', {\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\n        }\n      });\n      setAuthUrl(response.data.auth_url);\n      setDialogType('add');\n      setFormData({\n        accountName: '',\n        tiktokUsername: ''\n      });\n      setOpenDialog(true);\n    } catch (error) {\n      console.error('Error getting auth URL:', error);\n      showSnackbar('Failed to get TikTok authorization URL', 'error');\n    }\n  };\n  const handleOpenEditDialog = account => {\n    setSelectedAccount(account);\n    setFormData({\n      accountName: account.account_name,\n      tiktokUsername: account.tiktok_username\n    });\n    setDialogType('edit');\n    setOpenDialog(true);\n  };\n  const handleCloseDialog = () => {\n    setOpenDialog(false);\n    setSelectedAccount(null);\n  };\n  const handleInputChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setFormData({\n      ...formData,\n      [name]: value\n    });\n  };\n  const handleAddAccount = async () => {\n    // This would typically handle the OAuth flow with TikTok\n    // For now, we'll simulate it\n\n    window.open(authUrl, '_blank', 'width=800,height=600');\n\n    // In a real implementation, you would have:\n    // 1. User is redirected to TikTok authorization page\n    // 2. After authorization, TikTok redirects back to your callback URL with an authorization code\n    // 3. Your backend exchanges the code for an access token\n    // 4. Backend creates a new account record\n\n    showSnackbar('Please complete the TikTok authorization process in the new window', 'info');\n    handleCloseDialog();\n  };\n  const handleEditAccount = async () => {\n    try {\n      await axios.put(`/api/accounts/${selectedAccount.id}`, {\n        account_name: formData.accountName\n      }, {\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\n        }\n      });\n\n      // Refresh accounts\n      fetchAccounts();\n      handleCloseDialog();\n      showSnackbar('Account updated successfully', 'success');\n    } catch (error) {\n      console.error('Error updating account:', error);\n      showSnackbar('Failed to update account', 'error');\n    }\n  };\n  const handleDeleteAccount = async accountId => {\n    const confirmDelete = window.confirm('Are you sure you want to delete this account? All scheduled posts for this account will also be deleted.');\n    if (confirmDelete) {\n      try {\n        await axios.delete(`/api/accounts/${accountId}`, {\n          headers: {\n            'Authorization': `Bearer ${localStorage.getItem('token')}`\n          }\n        });\n\n        // Refresh accounts\n        fetchAccounts();\n        showSnackbar('Account deleted successfully', 'success');\n      } catch (error) {\n        console.error('Error deleting account:', error);\n        showSnackbar('Failed to delete account', 'error');\n      }\n    }\n  };\n  const handleRefreshToken = async accountId => {\n    try {\n      await axios.post(`/api/accounts/${accountId}/refresh-token`, {}, {\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\n        }\n      });\n\n      // Refresh accounts\n      fetchAccounts();\n      showSnackbar('Token refreshed successfully', 'success');\n    } catch (error) {\n      console.error('Error refreshing token:', error);\n      showSnackbar('Failed to refresh token', 'error');\n    }\n  };\n  const showSnackbar = (message, severity) => {\n    setSnackbar({\n      open: true,\n      message,\n      severity\n    });\n  };\n  const handleCloseSnackbar = () => {\n    setSnackbar({\n      ...snackbar,\n      open: false\n    });\n  };\n\n  // This function would be called when the user completes the TikTok OAuth flow\n  // It would be triggered by a callback from the OAuth redirect\n  const handleOAuthCallback = async code => {\n    try {\n      await axios.post('/api/accounts/complete-auth', {\n        code,\n        account_name: formData.accountName\n      }, {\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\n        }\n      });\n\n      // Refresh accounts\n      fetchAccounts();\n      showSnackbar('Account added successfully', 'success');\n    } catch (error) {\n      console.error('Error completing auth:', error);\n      showSnackbar('Failed to complete authorization', 'error');\n    }\n  };\n  return /*#__PURE__*/React.createElement(Box, {\n    sx: {\n      p: 3\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 243,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Box, {\n    sx: {\n      display: 'flex',\n      justifyContent: 'space-between',\n      alignItems: 'center',\n      mb: 3\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 244,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    variant: \"h4\",\n    component: \"h1\",\n    sx: {\n      fontWeight: 'bold'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 245,\n      columnNumber: 9\n    }\n  }, \"Manage TikTok Accounts\"), /*#__PURE__*/React.createElement(Button, {\n    variant: \"contained\",\n    color: \"primary\",\n    startIcon: /*#__PURE__*/React.createElement(AddIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 251,\n        columnNumber: 22\n      }\n    }),\n    onClick: handleOpenAddDialog,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 9\n    }\n  }, \"Add Account\")), /*#__PURE__*/React.createElement(Paper, {\n    sx: {\n      p: 0\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 258,\n      columnNumber: 7\n    }\n  }, loading ? /*#__PURE__*/React.createElement(Box, {\n    sx: {\n      display: 'flex',\n      justifyContent: 'center',\n      p: 4\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 260,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(CircularProgress, {\n    sx: {\n      color: colors.brightRed\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 261,\n      columnNumber: 13\n    }\n  })) : accounts.length === 0 ? /*#__PURE__*/React.createElement(Box, {\n    sx: {\n      p: 4,\n      textAlign: 'center'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 264,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    variant: \"body1\",\n    sx: {\n      mb: 2\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 265,\n      columnNumber: 13\n    }\n  }, \"You don't have any TikTok accounts connected yet.\"), /*#__PURE__*/React.createElement(Button, {\n    variant: \"contained\",\n    color: \"primary\",\n    startIcon: /*#__PURE__*/React.createElement(AddIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 26\n      }\n    }),\n    onClick: handleOpenAddDialog,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 268,\n      columnNumber: 13\n    }\n  }, \"Add Your First Account\")) : /*#__PURE__*/React.createElement(List, {\n    sx: {\n      width: '100%'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 278,\n      columnNumber: 11\n    }\n  }, accounts.map((account, index) => /*#__PURE__*/React.createElement(React.Fragment, {\n    key: account.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 280,\n      columnNumber: 15\n    }\n  }, index > 0 && /*#__PURE__*/React.createElement(Divider, {\n    component: \"li\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 281,\n      columnNumber: 31\n    }\n  }), /*#__PURE__*/React.createElement(ListItem, {\n    secondaryAction: /*#__PURE__*/React.createElement(Box, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 284,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(IconButton, {\n      edge: \"end\",\n      \"aria-label\": \"refresh\",\n      onClick: () => handleRefreshToken(account.id),\n      title: \"Refresh Token\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 285,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(RefreshIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 291,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(IconButton, {\n      edge: \"end\",\n      \"aria-label\": \"edit\",\n      sx: {\n        ml: 1\n      },\n      onClick: () => handleOpenEditDialog(account),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 293,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(EditIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 299,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(IconButton, {\n      edge: \"end\",\n      \"aria-label\": \"delete\",\n      sx: {\n        ml: 1\n      },\n      onClick: () => handleDeleteAccount(account.id),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 301,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(DeleteIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 307,\n        columnNumber: 25\n      }\n    }))),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 282,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(ListItemAvatar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 312,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Avatar, {\n    sx: {\n      bgcolor: colors.brightRed\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 313,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(PersonIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 314,\n      columnNumber: 23\n    }\n  }))), /*#__PURE__*/React.createElement(ListItemText, {\n    primary: /*#__PURE__*/React.createElement(Box, {\n      sx: {\n        display: 'flex',\n        alignItems: 'center'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 319,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(Typography, {\n      variant: \"subtitle1\",\n      sx: {\n        fontWeight: 'bold'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 320,\n        columnNumber: 25\n      }\n    }, account.account_name), /*#__PURE__*/React.createElement(Chip, {\n      size: \"small\",\n      color: account.is_active ? \"success\" : \"error\",\n      icon: account.is_active ? /*#__PURE__*/React.createElement(CheckIcon, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 326,\n          columnNumber: 53\n        }\n      }) : /*#__PURE__*/React.createElement(CloseIcon, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 326,\n          columnNumber: 69\n        }\n      }),\n      label: account.is_active ? \"Active\" : \"Inactive\",\n      sx: {\n        ml: 2\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 323,\n        columnNumber: 25\n      }\n    })),\n    secondary: /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Typography, {\n      component: \"span\",\n      variant: \"body2\",\n      color: \"text.primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 334,\n        columnNumber: 25\n      }\n    }, \"@\", account.tiktok_username), account.token_expiry && /*#__PURE__*/React.createElement(Typography, {\n      component: \"span\",\n      variant: \"body2\",\n      color: \"text.secondary\",\n      sx: {\n        ml: 2\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 338,\n        columnNumber: 27\n      }\n    }, \"Token expires: \", new Date(account.token_expiry).toLocaleDateString())),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 317,\n      columnNumber: 19\n    }\n  })))))), /*#__PURE__*/React.createElement(Dialog, {\n    open: openDialog,\n    onClose: handleCloseDialog,\n    maxWidth: \"sm\",\n    fullWidth: true,\n    PaperProps: {\n      sx: {\n        borderRadius: '12px'\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 353,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(DialogTitle, {\n    sx: {\n      backgroundColor: colors.black,\n      color: 'white'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 364,\n      columnNumber: 9\n    }\n  }, dialogType === 'add' ? 'Add TikTok Account' : 'Edit Account'), /*#__PURE__*/React.createElement(DialogContent, {\n    sx: {\n      mt: 2\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 368,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Box, {\n    sx: {\n      my: 2\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 369,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    label: \"Account Name\",\n    name: \"accountName\",\n    value: formData.accountName,\n    onChange: handleInputChange,\n    fullWidth: true,\n    margin: \"normal\",\n    placeholder: \"My TikTok Account\",\n    helperText: \"A friendly name to identify this account in the scheduler\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 370,\n      columnNumber: 13\n    }\n  }), dialogType === 'add' && /*#__PURE__*/React.createElement(Box, {\n    sx: {\n      mt: 3\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 382,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    variant: \"subtitle1\",\n    sx: {\n      fontWeight: 'bold',\n      mb: 1\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 383,\n      columnNumber: 17\n    }\n  }, \"Connect with TikTok\"), /*#__PURE__*/React.createElement(Typography, {\n    variant: \"body2\",\n    sx: {\n      mb: 2\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 386,\n      columnNumber: 17\n    }\n  }, \"Click the button below to authorize this application to post to your TikTok account. You'll be redirected to TikTok's website to complete the authorization.\"), /*#__PURE__*/React.createElement(Button, {\n    variant: \"contained\",\n    color: \"primary\",\n    fullWidth: true,\n    sx: {\n      mt: 1\n    },\n    onClick: handleAddAccount,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 389,\n      columnNumber: 17\n    }\n  }, \"Connect to TikTok\")))), /*#__PURE__*/React.createElement(DialogActions, {\n    sx: {\n      p: 2\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 403,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    onClick: handleCloseDialog,\n    color: \"inherit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 404,\n      columnNumber: 11\n    }\n  }, \"Cancel\"), dialogType === 'edit' && /*#__PURE__*/React.createElement(Button, {\n    onClick: handleEditAccount,\n    variant: \"contained\",\n    color: \"primary\",\n    disabled: !formData.accountName,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 408,\n      columnNumber: 13\n    }\n  }, \"Save Changes\"))), /*#__PURE__*/React.createElement(Snackbar, {\n    open: snackbar.open,\n    autoHideDuration: 6000,\n    onClose: handleCloseSnackbar,\n    anchorOrigin: {\n      vertical: 'bottom',\n      horizontal: 'right'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 421,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Alert, {\n    onClose: handleCloseSnackbar,\n    severity: snackbar.severity,\n    sx: {\n      width: '100%'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 427,\n      columnNumber: 9\n    }\n  }, snackbar.message)));\n};\nexport default AccountManager;","map":{"version":3,"names":["React","useState","useEffect","Box","Paper","Typography","Button","List","ListItem","ListItemAvatar","ListItemText","Avatar","Divider","IconButton","Dialog","DialogTitle","DialogContent","DialogActions","TextField","CircularProgress","Snackbar","Alert","Chip","Add","AddIcon","Delete","DeleteIcon","Edit","EditIcon","Person","PersonIcon","Refresh","RefreshIcon","Check","CheckIcon","Close","CloseIcon","colors","axios","AccountManager","accounts","setAccounts","loading","setLoading","openDialog","setOpenDialog","dialogType","setDialogType","selectedAccount","setSelectedAccount","formData","setFormData","accountName","tiktokUsername","authUrl","setAuthUrl","snackbar","setSnackbar","open","message","severity","fetchAccounts","response","get","headers","localStorage","getItem","data","error","console","showSnackbar","handleOpenAddDialog","auth_url","handleOpenEditDialog","account","account_name","tiktok_username","handleCloseDialog","handleInputChange","e","name","value","target","handleAddAccount","window","handleEditAccount","put","id","handleDeleteAccount","accountId","confirmDelete","confirm","delete","handleRefreshToken","post","handleCloseSnackbar","handleOAuthCallback","code","createElement","sx","p","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","display","justifyContent","alignItems","mb","variant","component","fontWeight","color","startIcon","onClick","brightRed","length","textAlign","width","map","index","Fragment","key","secondaryAction","edge","title","ml","bgcolor","primary","size","is_active","icon","label","secondary","token_expiry","Date","toLocaleDateString","onClose","maxWidth","fullWidth","PaperProps","borderRadius","backgroundColor","black","mt","my","onChange","margin","placeholder","helperText","disabled","autoHideDuration","anchorOrigin","vertical","horizontal"],"sources":["C:/Users/Charis/Desktop/projects/My-Project/Personal_project/tiktok_scheduler/frontend/src/components/AccountManager.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { \r\n  Box, \r\n  Paper, \r\n  Typography, \r\n  Button, \r\n  List, \r\n  ListItem, \r\n  ListItemAvatar, \r\n  ListItemText, \r\n  Avatar, \r\n  Divider, \r\n  IconButton, \r\n  Dialog, \r\n  DialogTitle, \r\n  DialogContent, \r\n  DialogActions, \r\n  TextField,\r\n  CircularProgress,\r\n  Snackbar,\r\n  Alert,\r\n  Chip\r\n} from '@mui/material';\r\nimport { \r\n  Add as AddIcon,\r\n  Delete as DeleteIcon,\r\n  Edit as EditIcon,\r\n  Person as PersonIcon,\r\n  Refresh as RefreshIcon,\r\n  Check as CheckIcon,\r\n  Close as CloseIcon\r\n} from '@mui/icons-material';\r\nimport { colors } from '../styles/theme';\r\nimport axios from 'axios';\r\n\r\nconst AccountManager = () => {\r\n  const [accounts, setAccounts] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [openDialog, setOpenDialog] = useState(false);\r\n  const [dialogType, setDialogType] = useState('add'); // 'add', 'edit'\r\n  const [selectedAccount, setSelectedAccount] = useState(null);\r\n  const [formData, setFormData] = useState({\r\n    accountName: '',\r\n    tiktokUsername: ''\r\n  });\r\n  const [authUrl, setAuthUrl] = useState('');\r\n  const [snackbar, setSnackbar] = useState({\r\n    open: false,\r\n    message: '',\r\n    severity: 'success'\r\n  });\r\n  \r\n  useEffect(() => {\r\n    fetchAccounts();\r\n  }, []);\r\n  \r\n  const fetchAccounts = async () => {\r\n    try {\r\n      setLoading(true);\r\n      \r\n      const response = await axios.get('/api/dashboard/accounts', {\r\n        headers: {\r\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\r\n        }\r\n      });\r\n      \r\n      setAccounts(response.data.accounts);\r\n      setLoading(false);\r\n      \r\n    } catch (error) {\r\n      console.error('Error fetching accounts:', error);\r\n      setLoading(false);\r\n      showSnackbar('Failed to load accounts', 'error');\r\n    }\r\n  };\r\n  \r\n  const handleOpenAddDialog = async () => {\r\n    try {\r\n      // Get TikTok auth URL\r\n      const response = await axios.get('/api/auth/tiktok-auth-url', {\r\n        headers: {\r\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\r\n        }\r\n      });\r\n      \r\n      setAuthUrl(response.data.auth_url);\r\n      setDialogType('add');\r\n      setFormData({\r\n        accountName: '',\r\n        tiktokUsername: ''\r\n      });\r\n      setOpenDialog(true);\r\n      \r\n    } catch (error) {\r\n      console.error('Error getting auth URL:', error);\r\n      showSnackbar('Failed to get TikTok authorization URL', 'error');\r\n    }\r\n  };\r\n  \r\n  const handleOpenEditDialog = (account) => {\r\n    setSelectedAccount(account);\r\n    setFormData({\r\n      accountName: account.account_name,\r\n      tiktokUsername: account.tiktok_username\r\n    });\r\n    setDialogType('edit');\r\n    setOpenDialog(true);\r\n  };\r\n  \r\n  const handleCloseDialog = () => {\r\n    setOpenDialog(false);\r\n    setSelectedAccount(null);\r\n  };\r\n  \r\n  const handleInputChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFormData({\r\n      ...formData,\r\n      [name]: value\r\n    });\r\n  };\r\n  \r\n  const handleAddAccount = async () => {\r\n    // This would typically handle the OAuth flow with TikTok\r\n    // For now, we'll simulate it\r\n    \r\n    window.open(authUrl, '_blank', 'width=800,height=600');\r\n    \r\n    // In a real implementation, you would have:\r\n    // 1. User is redirected to TikTok authorization page\r\n    // 2. After authorization, TikTok redirects back to your callback URL with an authorization code\r\n    // 3. Your backend exchanges the code for an access token\r\n    // 4. Backend creates a new account record\r\n    \r\n    showSnackbar('Please complete the TikTok authorization process in the new window', 'info');\r\n    handleCloseDialog();\r\n  };\r\n  \r\n  const handleEditAccount = async () => {\r\n    try {\r\n      await axios.put(`/api/accounts/${selectedAccount.id}`, {\r\n        account_name: formData.accountName\r\n      }, {\r\n        headers: {\r\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\r\n        }\r\n      });\r\n      \r\n      // Refresh accounts\r\n      fetchAccounts();\r\n      \r\n      handleCloseDialog();\r\n      showSnackbar('Account updated successfully', 'success');\r\n      \r\n    } catch (error) {\r\n      console.error('Error updating account:', error);\r\n      showSnackbar('Failed to update account', 'error');\r\n    }\r\n  };\r\n  \r\n  const handleDeleteAccount = async (accountId) => {\r\n    const confirmDelete = window.confirm('Are you sure you want to delete this account? All scheduled posts for this account will also be deleted.');\r\n    \r\n    if (confirmDelete) {\r\n      try {\r\n        await axios.delete(`/api/accounts/${accountId}`, {\r\n          headers: {\r\n            'Authorization': `Bearer ${localStorage.getItem('token')}`\r\n          }\r\n        });\r\n        \r\n        // Refresh accounts\r\n        fetchAccounts();\r\n        \r\n        showSnackbar('Account deleted successfully', 'success');\r\n        \r\n      } catch (error) {\r\n        console.error('Error deleting account:', error);\r\n        showSnackbar('Failed to delete account', 'error');\r\n      }\r\n    }\r\n  };\r\n  \r\n  const handleRefreshToken = async (accountId) => {\r\n    try {\r\n      await axios.post(`/api/accounts/${accountId}/refresh-token`, {}, {\r\n        headers: {\r\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\r\n        }\r\n      });\r\n      \r\n      // Refresh accounts\r\n      fetchAccounts();\r\n      \r\n      showSnackbar('Token refreshed successfully', 'success');\r\n      \r\n    } catch (error) {\r\n      console.error('Error refreshing token:', error);\r\n      showSnackbar('Failed to refresh token', 'error');\r\n    }\r\n  };\r\n  \r\n  const showSnackbar = (message, severity) => {\r\n    setSnackbar({\r\n      open: true,\r\n      message,\r\n      severity\r\n    });\r\n  };\r\n  \r\n  const handleCloseSnackbar = () => {\r\n    setSnackbar({\r\n      ...snackbar,\r\n      open: false\r\n    });\r\n  };\r\n  \r\n  // This function would be called when the user completes the TikTok OAuth flow\r\n  // It would be triggered by a callback from the OAuth redirect\r\n  const handleOAuthCallback = async (code) => {\r\n    try {\r\n      await axios.post('/api/accounts/complete-auth', {\r\n        code,\r\n        account_name: formData.accountName\r\n      }, {\r\n        headers: {\r\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\r\n        }\r\n      });\r\n      \r\n      // Refresh accounts\r\n      fetchAccounts();\r\n      \r\n      showSnackbar('Account added successfully', 'success');\r\n      \r\n    } catch (error) {\r\n      console.error('Error completing auth:', error);\r\n      showSnackbar('Failed to complete authorization', 'error');\r\n    }\r\n  };\r\n  \r\n  return (\r\n    <Box sx={{ p: 3 }}>\r\n      <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', mb: 3 }}>\r\n        <Typography variant=\"h4\" component=\"h1\" sx={{ fontWeight: 'bold' }}>\r\n          Manage TikTok Accounts\r\n        </Typography>\r\n        <Button \r\n          variant=\"contained\" \r\n          color=\"primary\" \r\n          startIcon={<AddIcon />}\r\n          onClick={handleOpenAddDialog}\r\n        >\r\n          Add Account\r\n        </Button>\r\n      </Box>\r\n      \r\n      <Paper sx={{ p: 0 }}>\r\n        {loading ? (\r\n          <Box sx={{ display: 'flex', justifyContent: 'center', p: 4 }}>\r\n            <CircularProgress sx={{ color: colors.brightRed }} />\r\n          </Box>\r\n        ) : accounts.length === 0 ? (\r\n          <Box sx={{ p: 4, textAlign: 'center' }}>\r\n            <Typography variant=\"body1\" sx={{ mb: 2 }}>\r\n              You don't have any TikTok accounts connected yet.\r\n            </Typography>\r\n            <Button \r\n              variant=\"contained\" \r\n              color=\"primary\" \r\n              startIcon={<AddIcon />}\r\n              onClick={handleOpenAddDialog}\r\n            >\r\n              Add Your First Account\r\n            </Button>\r\n          </Box>\r\n        ) : (\r\n          <List sx={{ width: '100%' }}>\r\n            {accounts.map((account, index) => (\r\n              <React.Fragment key={account.id}>\r\n                {index > 0 && <Divider component=\"li\" />}\r\n                <ListItem\r\n                  secondaryAction={\r\n                    <Box>\r\n                      <IconButton \r\n                        edge=\"end\" \r\n                        aria-label=\"refresh\" \r\n                        onClick={() => handleRefreshToken(account.id)}\r\n                        title=\"Refresh Token\"\r\n                      >\r\n                        <RefreshIcon />\r\n                      </IconButton>\r\n                      <IconButton \r\n                        edge=\"end\" \r\n                        aria-label=\"edit\" \r\n                        sx={{ ml: 1 }}\r\n                        onClick={() => handleOpenEditDialog(account)}\r\n                      >\r\n                        <EditIcon />\r\n                      </IconButton>\r\n                      <IconButton \r\n                        edge=\"end\" \r\n                        aria-label=\"delete\" \r\n                        sx={{ ml: 1 }}\r\n                        onClick={() => handleDeleteAccount(account.id)}\r\n                      >\r\n                        <DeleteIcon />\r\n                      </IconButton>\r\n                    </Box>\r\n                  }\r\n                >\r\n                  <ListItemAvatar>\r\n                    <Avatar sx={{ bgcolor: colors.brightRed }}>\r\n                      <PersonIcon />\r\n                    </Avatar>\r\n                  </ListItemAvatar>\r\n                  <ListItemText\r\n                    primary={\r\n                      <Box sx={{ display: 'flex', alignItems: 'center' }}>\r\n                        <Typography variant=\"subtitle1\" sx={{ fontWeight: 'bold' }}>\r\n                          {account.account_name}\r\n                        </Typography>\r\n                        <Chip \r\n                          size=\"small\" \r\n                          color={account.is_active ? \"success\" : \"error\"}\r\n                          icon={account.is_active ? <CheckIcon /> : <CloseIcon />}\r\n                          label={account.is_active ? \"Active\" : \"Inactive\"}\r\n                          sx={{ ml: 2 }}\r\n                        />\r\n                      </Box>\r\n                    }\r\n                    secondary={\r\n                      <>\r\n                        <Typography component=\"span\" variant=\"body2\" color=\"text.primary\">\r\n                          @{account.tiktok_username}\r\n                        </Typography>\r\n                        {account.token_expiry && (\r\n                          <Typography component=\"span\" variant=\"body2\" color=\"text.secondary\" sx={{ ml: 2 }}>\r\n                            Token expires: {new Date(account.token_expiry).toLocaleDateString()}\r\n                          </Typography>\r\n                        )}\r\n                      </>\r\n                    }\r\n                  />\r\n                </ListItem>\r\n              </React.Fragment>\r\n            ))}\r\n          </List>\r\n        )}\r\n      </Paper>\r\n      \r\n      {/* Add/Edit Account Dialog */}\r\n      <Dialog \r\n        open={openDialog} \r\n        onClose={handleCloseDialog}\r\n        maxWidth=\"sm\"\r\n        fullWidth\r\n        PaperProps={{\r\n          sx: {\r\n            borderRadius: '12px'\r\n          }\r\n        }}\r\n      >\r\n        <DialogTitle sx={{ backgroundColor: colors.black, color: 'white' }}>\r\n          {dialogType === 'add' ? 'Add TikTok Account' : 'Edit Account'}\r\n        </DialogTitle>\r\n        \r\n        <DialogContent sx={{ mt: 2 }}>\r\n          <Box sx={{ my: 2 }}>\r\n            <TextField\r\n              label=\"Account Name\"\r\n              name=\"accountName\"\r\n              value={formData.accountName}\r\n              onChange={handleInputChange}\r\n              fullWidth\r\n              margin=\"normal\"\r\n              placeholder=\"My TikTok Account\"\r\n              helperText=\"A friendly name to identify this account in the scheduler\"\r\n            />\r\n            \r\n            {dialogType === 'add' && (\r\n              <Box sx={{ mt: 3 }}>\r\n                <Typography variant=\"subtitle1\" sx={{ fontWeight: 'bold', mb: 1 }}>\r\n                  Connect with TikTok\r\n                </Typography>\r\n                <Typography variant=\"body2\" sx={{ mb: 2 }}>\r\n                  Click the button below to authorize this application to post to your TikTok account. You'll be redirected to TikTok's website to complete the authorization.\r\n                </Typography>\r\n                <Button \r\n                  variant=\"contained\" \r\n                  color=\"primary\" \r\n                  fullWidth\r\n                  sx={{ mt: 1 }}\r\n                  onClick={handleAddAccount}\r\n                >\r\n                  Connect to TikTok\r\n                </Button>\r\n              </Box>\r\n            )}\r\n          </Box>\r\n        </DialogContent>\r\n        \r\n        <DialogActions sx={{ p: 2 }}>\r\n          <Button onClick={handleCloseDialog} color=\"inherit\">\r\n            Cancel\r\n          </Button>\r\n          {dialogType === 'edit' && (\r\n            <Button \r\n              onClick={handleEditAccount} \r\n              variant=\"contained\" \r\n              color=\"primary\"\r\n              disabled={!formData.accountName}\r\n            >\r\n              Save Changes\r\n            </Button>\r\n          )}\r\n        </DialogActions>\r\n      </Dialog>\r\n      \r\n      {/* Snackbar for notifications */}\r\n      <Snackbar\r\n        open={snackbar.open}\r\n        autoHideDuration={6000}\r\n        onClose={handleCloseSnackbar}\r\n        anchorOrigin={{ vertical: 'bottom', horizontal: 'right' }}\r\n      >\r\n        <Alert onClose={handleCloseSnackbar} severity={snackbar.severity} sx={{ width: '100%' }}>\r\n          {snackbar.message}\r\n        </Alert>\r\n      </Snackbar>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default AccountManager;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}